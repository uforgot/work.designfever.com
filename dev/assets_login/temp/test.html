<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="EUC-KR">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <title>JSON load test</title>
    <script src="../js/common/df.workgroup.Util.js?uniq=20180814_4"></script>
    <script src="../js/common/df.workgroup.Preset.js"></script>
</head>
<body>
<p id="id_log"></p>


<script>

    var url_json = window.df.workgroup.Preset.json_url.default + "?uniq=" + new Date().getTime();
    //var url_json = "df_info_data.json" + "?uniq=" + new Date().getTime();
    var log = document.getElementById('id_log');
    log.innerText = "url_json : " + url_json + "";

    var startTime = new Date();
    log.innerText = log.innerText +  "\n\n--------------------------------------'GET' start : " + startTime.getTime();


    df.workgroup.Util.load_json(url_json, "GET", onLoad_get);

    function onLoad_get(response) {

        console.log("\n------------------------------------------\n");
        console.log("\n-GET-------------------------------------\n");

        var json = JSON.parse(response.target.responseText);
        console.log(json);


        var nowDate = new Date();
        log.innerText = log.innerText +  "\n\n-----------------------------------on GET : " + nowDate.getTime() +" ( duration : "+((nowDate.getTime() - startTime.getTime()) / 1000) + "sec )";
        log.innerText = log.innerText +  "\n\n"+ JSON.stringify(json.user);


        startTime.setTime(nowDate.getTime());
        log.innerText = log.innerText +  "\n\n";
        log.innerText = log.innerText +  "\n\n--------------------------------------'POST' start : " + startTime.getTime();
        df.workgroup.Util.load_json(url_json, "POST", onLoad_post);
    }

    function onLoad_post(response) {

        console.log("\n------------------------------------------\n");
        console.log("\n-POST-------------------------------------\n");

        var json = JSON.parse(response.target.responseText);
        console.log(json);

        var nowDate = new Date();
        log.innerText = log.innerText +  "\n\n--------------------------------------on POST : " + nowDate.getTime() +" ( duration : "+((nowDate.getTime() - startTime.getTime()) / 1000) + "sec )";
        log.innerText = log.innerText +  "\n\n"+ JSON.stringify(json.user);
    }


    var t_d = new Date(1534155900000);


    console.log(t_d.getHours(), t_d.getMinutes());

</script>
</body>
</html>