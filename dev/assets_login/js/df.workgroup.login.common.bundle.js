!function(o){var n={};function e(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return o[t].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=o,e.c=n,e.d=function(o,n,t){e.o(o,n)||Object.defineProperty(o,n,{enumerable:!0,get:t})},e.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,n){if(1&n&&(o=e(o)),8&n)return o;if(4&n&&"object"==typeof o&&o&&o.__esModule)return o;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:o}),2&n&&"string"!=typeof o)for(var r in o)e.d(t,r,function(n){return o[n]}.bind(null,r));return t},e.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(n,"a",n),n},e.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},e.p="",e(e.s=0)}({"../common/df.workgroup.GlobalVars.js":
/*!********************************************!*\
  !*** ../common/df.workgroup.GlobalVars.js ***!
  \********************************************/
/*! no static exports found */function(o,n){window.df=window.df||{},window.df.workgroup=window.df.workgroup||{},window.df.workgroup.GlobalVars={isLoaded:!1,infoData:null,time_now:0}},"../common/df.workgroup.Preset.js":
/*!****************************************!*\
  !*** ../common/df.workgroup.Preset.js ***!
  \****************************************/
/*! no static exports found */function(o,n){window.df=window.df||{},window.df.workgroup=window.df.workgroup||{},window.df.workgroup.Preset={json_url:{default:"/json/df_info_data.json.php",default_local:"assets_login/temp/df_info_data.json",login:"assets_login/temp/df_info_data_01_login.json",checkin:"assets_login/temp/df_info_data_02_checkin.json",checkout:"assets_login/temp/df_info_data_03_checkout.json",logout:"assets_login/temp/df_info_data_04_logout.json"},document_url:{approval:"approval/approval_to_list.php",approval_my:"approval/approval_my_list.php",approval_cc:"approval/approval_cc_list.php"},main_url:"main.php",eventType:{ON_LOAD_JSON:"onLoadJson",ON_LOGIN:"onLogin",ON_CHECKIN:"onCheckin",ON_CHECKOUT:"onCheckout",ON_LOGOUT:"onLogout",ON_CHANGE_STAGE_INFO:"onChangeStageInfo",ON_ERROR:"onError",ON_WARNING:"onWarning",ON_CLOSE_MODAL:"onCloseModal"},class_name:{showIn:"show-in",hideOut:"hide-out"},related_site:[{title:"designfever.com",url:"http://designfever.com/",thumb:"thumb_mail.jpg_200x200"},{title:"Facebook",url:"https://www.facebook.com/feverbook",thumb:"thumb_mail.jpg_200x200"},{title:"Twitter",url:"https://twitter.com/designfever_kr",thumb:"thumb_mail.jpg_200x200"},{title:"Blog",url:"https://blog.naver.com/design_fever",thumb:"thumb_mail.jpg_200x200"},{title:"DF Mail",url:"http://mail.designfever.com/",thumb:"thumb_mail.jpg_200x200"},{title:"DF Lab",url:"http://dev.designfever.com/lab/",thumb:"thumb_mail.jpg_200x200"},{title:"Youtube",url:"https://www.youtube.com/user/designfeverda",thumb:"thumb_mail.jpg_200x200"}],isBgTest:!1}},"../common/df.workgroup.Util.js":
/*!**************************************!*\
  !*** ../common/df.workgroup.Util.js ***!
  \**************************************/
/*! no static exports found */function(o,n){window.df=window.df||{},window.df.workgroup=window.df.workgroup||{},window.df.workgroup.Util=function(){var o;return{load_json:function(n,e,t,r){o=new Date,console.log("\n----- << START LOAD >> xhr.url : ",n,"\n");var i=r?JSON.stringify(r):null,a={method:e,action:n},d=new XMLHttpRequest;d.open(a.method,a.action,!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.onreadystatechange=function(){},d.onloadend=function(n){0===n.target.status?console.log("xhr.onloadend (Failed) : ",d):400===n.target.status?console.log("xhr.onloadend (Bad Request) : ",d):404===n.target.status?console.log("xhr.onloadend (404 Not Found) : ",d):200===n.target.status&&(console.log("\n----- << COMP LOAD >> ----- xhr.onloadend (Success) duration : ",((new Date).getTime()-o.getTime())/1e3+"sec\n\n"),console.log("xhr.onloadend (Success) response : \n",n),console.log("xhr.onloadend (Success) responseText(JSON) : \n",JSON.parse(n.target.responseText)),console.log("\n----- << COMP LOAD >> -----\n\n"),setTimeout(function(){t(n)},10))},d.send(i)},addZeroNumber:function(o){return o<10?"0"+o:""+o},addParamUniq:function(o){return o=-1==o.indexOf("?")?o+"?uniq="+(new Date).getTime():o+"&uniq="+(new Date).getTime()}}}()},"../common/df.workgroup.login.LoadInfoData.js":
/*!****************************************************!*\
  !*** ../common/df.workgroup.login.LoadInfoData.js ***!
  \****************************************************/
/*! no static exports found */function(o,n){!function(){if("function"==typeof window.CustomEvent)return!1;function o(o,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");return e.initCustomEvent(o,n.bubbles,n.cancelable,n.detail),e}o.prototype=window.Event.prototype,window.CustomEvent=o}(),window.df=window.df||{},window.df.workgroup=window.df.workgroup||{},window.df.workgroup.login=window.df.workgroup.login||{},window.df.workgroup.login.LoadInfoData=function(){var o="[ LoadInfoData ]",n="";function e(o){var n=JSON.parse(o.target.responseText);window.df.workgroup.GlobalVars.isLoaded=!0,window.df.workgroup.GlobalVars.infoData=n;var e=!1,t=window.df.workgroup.GlobalVars.infoData;void 0!=t.user&&void 0!=t.user.isLoggedIn&&(t.user.isLoggedIn||"true"==t.user.isLoggedIn)&&(e=!0);var r=document.querySelector("html"),i=window.df.lab.Util.hasClass(r,"desktop");e&&(i&&"desktop"==Detectizr.device.type||t.user.isAdminAccount),function(){var o=new CustomEvent(window.df.workgroup.Preset.eventType.ON_LOAD_JSON);document.dispatchEvent(o)}()}function t(){document.removeEventListener(window.df.workgroup.Preset.eventType.ON_LOAD_JSON,t)}return{init:function(){n="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?window.df.workgroup.Preset.json_url.default_local:window.df.workgroup.Preset.json_url.default,console.log(o," load default json data"),document.addEventListener(window.df.workgroup.Preset.eventType.ON_LOAD_JSON,t),function(o,n){var e={method:"GET",action:df.workgroup.Util.addParamUniq(o)};df.workgroup.Util.load_json(e.action,e.method,n,null)}(n,e)}}}(),window.df.workgroup.login.LoadInfoData.init()},0:
/*!***************************************************************************************************************************************************************!*\
  !*** multi ../common/df.workgroup.Preset.js ../common/df.workgroup.GlobalVars.js ../common/df.workgroup.Util.js ../common/df.workgroup.login.LoadInfoData.js ***!
  \***************************************************************************************************************************************************************/
/*! no static exports found */function(o,n,e){e(/*! ../common/df.workgroup.Preset.js */"../common/df.workgroup.Preset.js"),e(/*! ../common/df.workgroup.GlobalVars.js */"../common/df.workgroup.GlobalVars.js"),e(/*! ../common/df.workgroup.Util.js */"../common/df.workgroup.Util.js"),o.exports=e(/*! ../common/df.workgroup.login.LoadInfoData.js */"../common/df.workgroup.login.LoadInfoData.js")}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL2NvbW1vbi9kZi53b3JrZ3JvdXAuR2xvYmFsVmFycy5qcyIsIndlYnBhY2s6Ly8vLi4vY29tbW9uL2RmLndvcmtncm91cC5QcmVzZXQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbW1vbi9kZi53b3JrZ3JvdXAuVXRpbC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tbW9uL2RmLndvcmtncm91cC5sb2dpbi5Mb2FkSW5mb0RhdGEuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ3aW5kb3ciLCJkZiIsIndvcmtncm91cCIsIkdsb2JhbFZhcnMiLCJpc0xvYWRlZCIsImluZm9EYXRhIiwidGltZV9ub3ciLCJQcmVzZXQiLCJqc29uX3VybCIsImRlZmF1bHQiLCJkZWZhdWx0X2xvY2FsIiwibG9naW4iLCJjaGVja2luIiwiY2hlY2tvdXQiLCJsb2dvdXQiLCJkb2N1bWVudF91cmwiLCJhcHByb3ZhbCIsImFwcHJvdmFsX215IiwiYXBwcm92YWxfY2MiLCJtYWluX3VybCIsImV2ZW50VHlwZSIsIk9OX0xPQURfSlNPTiIsIk9OX0xPR0lOIiwiT05fQ0hFQ0tJTiIsIk9OX0NIRUNLT1VUIiwiT05fTE9HT1VUIiwiT05fQ0hBTkdFX1NUQUdFX0lORk8iLCJPTl9FUlJPUiIsIk9OX1dBUk5JTkciLCJPTl9DTE9TRV9NT0RBTCIsImNsYXNzX25hbWUiLCJzaG93SW4iLCJoaWRlT3V0IiwicmVsYXRlZF9zaXRlIiwidGl0bGUiLCJ1cmwiLCJ0aHVtYiIsImlzQmdUZXN0IiwiVXRpbCIsIm5vd19kYXRlIiwibG9hZF9qc29uIiwibWV0aG9kIiwiY2FsbGJhY2siLCIkZGF0YSIsIkRhdGUiLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJhbXMiLCJhY3Rpb24iLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwib25sb2FkZW5kIiwicmVzcG9uc2UiLCJ0YXJnZXQiLCJzdGF0dXMiLCJnZXRUaW1lIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJzZXRUaW1lb3V0Iiwic2VuZCIsImFkZFplcm9OdW1iZXIiLCJudW0iLCJhZGRQYXJhbVVuaXEiLCJpbmRleE9mIiwiQ3VzdG9tRXZlbnQiLCJldmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZGV0YWlsIiwidW5kZWZpbmVkIiwiZXZ0IiwiZG9jdW1lbnQiLCJjcmVhdGVFdmVudCIsImluaXRDdXN0b21FdmVudCIsIkV2ZW50IiwiTG9hZEluZm9EYXRhIiwiQ0xBU1NfTkFNRSIsInVybF9qc29uIiwib25Mb2FkIiwiYWN0dWFsX0pTT04iLCJpc0xvZ2dlZEluIiwianNvbl9kYXRhIiwidXNlciIsImVsX2h0bWwiLCJxdWVyeVNlbGVjdG9yIiwiaXNEZXNrdG9wIiwibGFiIiwiaGFzQ2xhc3MiLCJEZXRlY3RpenIiLCJkZXZpY2UiLCJ0eXBlIiwiaXNBZG1pbkFjY291bnQiLCJkaXNwYXRjaEV2ZW50IiwiX2Rpc3BhdGNoT25Mb2FkIiwib25Mb2FkSnNvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpbml0IiwibG9jYXRpb24iLCJob3N0bmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2Fk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LE9BQUFDLEdBQUFDLFVBQUFLLE9BQUFhLFVBQUFDLGNBQ0F3RCxTQUFBcUIsY0FBQTNCLEdBdkJBNEIsR0EwQkEsU0FBQUMsSUFFQXZCLFNBQUF3QixvQkFBQXJHLE9BQUFDLEdBQUFDLFVBQUFLLE9BQUFhLFVBQUFDLGFBQUErRSxHQUdBLE9BQ0FFLEtBOUZBLFdBS0FuQixFQUZBLGNBQUFuRixPQUFBdUcsU0FBQUMsVUFBQSxjQUFBeEcsT0FBQXVHLFNBQUFDLFNBRUF4RyxPQUFBQyxHQUFBQyxVQUFBSyxPQUFBQyxTQUFBRSxjQUdBVixPQUFBQyxHQUFBQyxVQUFBSyxPQUFBQyxTQUFBQyxRQUlBb0MsUUFBQUMsSUFBQW9DLEVBQUEsMkJBQ0FMLFNBQUE0QixpQkFBQXpHLE9BQUFDLEdBQUFDLFVBQUFLLE9BQUFhLFVBQUFDLGFBQUErRSxHQUlBLFNBQUFqRSxFQUFBTyxHQUVBLElBQUFRLEdBQ0FULE9BQUEsTUFDQVUsT0FBQWxELEdBQUFDLFVBQUFvQyxLQUFBOEIsYUFBQWpDLElBR0FsQyxHQUFBQyxVQUFBb0MsS0FBQUUsVUFBQVUsRUFBQUMsT0FBQUQsRUFBQVQsT0FBQUMsRUFBQSxNQVZBZ0UsQ0FBQXZCLEVBQUFDLEtBbkJBLEdBd0dBcEYsT0FBQUMsR0FBQUMsVUFBQVMsTUFBQXNFLGFBQUFxQiIsImZpbGUiOiJkZi53b3JrZ3JvdXAubG9naW4uY29tbW9uLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIndpbmRvdy5kZiA9IHdpbmRvdy5kZiB8fCB7fTtcclxud2luZG93LmRmLndvcmtncm91cCA9IHdpbmRvdy5kZi53b3JrZ3JvdXAgfHwge307XHJcblxyXG53aW5kb3cuZGYud29ya2dyb3VwLkdsb2JhbFZhcnMgPSB7XHJcbiAgICBcImlzTG9hZGVkXCI6IGZhbHNlLFxyXG4gICAgXCJpbmZvRGF0YVwiOiBudWxsLFxyXG4gICAgXCJ0aW1lX25vd1wiOiAwXHJcbn07Iiwid2luZG93LmRmID0gd2luZG93LmRmIHx8IHt9O1xyXG53aW5kb3cuZGYud29ya2dyb3VwID0gd2luZG93LmRmLndvcmtncm91cCB8fCB7fTtcclxuXHJcbndpbmRvdy5kZi53b3JrZ3JvdXAuUHJlc2V0ID0ge1xyXG5cclxuICAgIFwianNvbl91cmxcIjp7XHJcblxyXG4gICAgICAgIFwiZGVmYXVsdFwiOiBcIi9qc29uL2RmX2luZm9fZGF0YS5qc29uLnBocFwiLFxyXG4gICAgICAgIFwiZGVmYXVsdF9sb2NhbFwiOiBcImFzc2V0c19sb2dpbi90ZW1wL2RmX2luZm9fZGF0YS5qc29uXCIsXHJcblxyXG4gICAgICAgIFwibG9naW5cIjogXCJhc3NldHNfbG9naW4vdGVtcC9kZl9pbmZvX2RhdGFfMDFfbG9naW4uanNvblwiLFxyXG4gICAgICAgIFwiY2hlY2tpblwiOiBcImFzc2V0c19sb2dpbi90ZW1wL2RmX2luZm9fZGF0YV8wMl9jaGVja2luLmpzb25cIixcclxuICAgICAgICBcImNoZWNrb3V0XCI6IFwiYXNzZXRzX2xvZ2luL3RlbXAvZGZfaW5mb19kYXRhXzAzX2NoZWNrb3V0Lmpzb25cIixcclxuICAgICAgICBcImxvZ291dFwiOiBcImFzc2V0c19sb2dpbi90ZW1wL2RmX2luZm9fZGF0YV8wNF9sb2dvdXQuanNvblwiXHJcbiAgICB9LFxyXG5cclxuICAgIFwiZG9jdW1lbnRfdXJsXCI6e1xyXG4gICAgICAgIFwiYXBwcm92YWxcIjogXCJhcHByb3ZhbC9hcHByb3ZhbF90b19saXN0LnBocFwiLFxyXG4gICAgICAgIFwiYXBwcm92YWxfbXlcIjogXCJhcHByb3ZhbC9hcHByb3ZhbF9teV9saXN0LnBocFwiLFxyXG4gICAgICAgIFwiYXBwcm92YWxfY2NcIjogXCJhcHByb3ZhbC9hcHByb3ZhbF9jY19saXN0LnBocFwiXHJcbiAgICB9LFxyXG5cclxuICAgIFwibWFpbl91cmxcIjpcIm1haW4ucGhwXCIsXHJcblxyXG4gICAgXCJldmVudFR5cGVcIjoge1xyXG4gICAgICAgIFwiT05fTE9BRF9KU09OXCI6IFwib25Mb2FkSnNvblwiLFxyXG4gICAgICAgIFwiT05fTE9HSU5cIjogXCJvbkxvZ2luXCIsXHJcbiAgICAgICAgXCJPTl9DSEVDS0lOXCI6IFwib25DaGVja2luXCIsXHJcbiAgICAgICAgXCJPTl9DSEVDS09VVFwiOiBcIm9uQ2hlY2tvdXRcIixcclxuICAgICAgICBcIk9OX0xPR09VVFwiOiBcIm9uTG9nb3V0XCIsXHJcbiAgICAgICAgXCJPTl9DSEFOR0VfU1RBR0VfSU5GT1wiOiBcIm9uQ2hhbmdlU3RhZ2VJbmZvXCIsXHJcbiAgICAgICAgXCJPTl9FUlJPUlwiOiBcIm9uRXJyb3JcIixcclxuICAgICAgICBcIk9OX1dBUk5JTkdcIjogXCJvbldhcm5pbmdcIixcclxuICAgICAgICBcIk9OX0NMT1NFX01PREFMXCI6IFwib25DbG9zZU1vZGFsXCJcclxuICAgIH0sXHJcblxyXG4gICAgXCJjbGFzc19uYW1lXCI6e1xyXG4gICAgICAgIFwic2hvd0luXCI6IFwic2hvdy1pblwiLFxyXG4gICAgICAgIFwiaGlkZU91dFwiOiBcImhpZGUtb3V0XCJcclxuICAgIH0sXHJcblxyXG4gICAgXCJyZWxhdGVkX3NpdGVcIjpbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcInRpdGxlXCI6IFwiZGVzaWduZmV2ZXIuY29tXCIsXHJcbiAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cDovL2Rlc2lnbmZldmVyLmNvbS9cIixcclxuICAgICAgICAgICAgXCJ0aHVtYlwiOiBcInRodW1iX21haWwuanBnXzIwMHgyMDBcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcInRpdGxlXCI6IFwiRmFjZWJvb2tcIixcclxuICAgICAgICAgICAgXCJ1cmxcIjogXCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vZmV2ZXJib29rXCIsXHJcbiAgICAgICAgICAgIFwidGh1bWJcIjogXCJ0aHVtYl9tYWlsLmpwZ18yMDB4MjAwXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlR3aXR0ZXJcIixcclxuICAgICAgICAgICAgXCJ1cmxcIjogXCJodHRwczovL3R3aXR0ZXIuY29tL2Rlc2lnbmZldmVyX2tyXCIsXHJcbiAgICAgICAgICAgIFwidGh1bWJcIjogXCJ0aHVtYl9tYWlsLmpwZ18yMDB4MjAwXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIkJsb2dcIixcclxuICAgICAgICAgICAgXCJ1cmxcIjogXCJodHRwczovL2Jsb2cubmF2ZXIuY29tL2Rlc2lnbl9mZXZlclwiLFxyXG4gICAgICAgICAgICBcInRodW1iXCI6IFwidGh1bWJfbWFpbC5qcGdfMjAweDIwMFwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJERiBNYWlsXCIsXHJcbiAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cDovL21haWwuZGVzaWduZmV2ZXIuY29tL1wiLFxyXG4gICAgICAgICAgICBcInRodW1iXCI6IFwidGh1bWJfbWFpbC5qcGdfMjAweDIwMFwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJERiBMYWJcIixcclxuICAgICAgICAgICAgXCJ1cmxcIjogXCJodHRwOi8vZGV2LmRlc2lnbmZldmVyLmNvbS9sYWIvXCIsXHJcbiAgICAgICAgICAgIFwidGh1bWJcIjogXCJ0aHVtYl9tYWlsLmpwZ18yMDB4MjAwXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIllvdXR1YmVcIixcclxuICAgICAgICAgICAgXCJ1cmxcIjogXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS91c2VyL2Rlc2lnbmZldmVyZGFcIixcclxuICAgICAgICAgICAgXCJ0aHVtYlwiOiBcInRodW1iX21haWwuanBnXzIwMHgyMDBcIlxyXG4gICAgICAgIH1cclxuICAgIF0sXHJcbiAgICBcImlzQmdUZXN0XCI6IGZhbHNlXHJcbn07Iiwid2luZG93LmRmID0gd2luZG93LmRmIHx8IHt9O1xyXG53aW5kb3cuZGYud29ya2dyb3VwID0gd2luZG93LmRmLndvcmtncm91cCB8fCB7fTtcclxuXHJcbndpbmRvdy5kZi53b3JrZ3JvdXAuVXRpbCA9IChmdW5jdGlvbigpe1xyXG5cclxuICAgIHZhciBub3dfZGF0ZTtcclxuICAgIGZ1bmN0aW9uIGxvYWRfanNvbih1cmwsIG1ldGhvZCwgY2FsbGJhY2ssICRkYXRhKXtcclxuXHJcbiAgICAgICAgbm93X2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiXFxuLS0tLS0gPDwgU1RBUlQgTE9BRCA+PiB4aHIudXJsIDogXCIsIHVybCwgXCJcXG5cIik7XHJcblxyXG4gICAgICAgIHZhciBkYXRhID0gJGRhdGEgPyBKU09OLnN0cmluZ2lmeSgkZGF0YSkgOiBudWxsO1xyXG5cclxuICAgICAgICB2YXIgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcclxuICAgICAgICAgICAgYWN0aW9uOiB1cmxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDb25zdHJ1Y3QgYW4gSFRUUCByZXF1ZXN0XHJcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIHhoci5vcGVuKHBhcmFtcy5tZXRob2QsIHBhcmFtcy5hY3Rpb24sIHRydWUpO1xyXG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCAnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgKTtcclxuICAgICAgICAvL3hoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcpO1xyXG4gICAgICAgIC8veGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04Jyk7XHJcblxyXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ4aHIucmVhZHlTdGF0ZSA6IFwiLCB4aHIucmVhZHlTdGF0ZSk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ4aHIuc3RhdHVzIDogXCIsIHhoci5zdGF0dXMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInhoci5vbmxvYWRlbmQgOiBcIiAsIHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS50YXJnZXQuc3RhdHVzID09PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRmFpbGVkIFhtbEh0dHBSZXF1ZXN0IHNob3VsZCBiZSBjb25zaWRlcmVkIGFuIHVuZGVmaW5lZCBlcnJvci5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwieGhyLm9ubG9hZGVuZCAoRmFpbGVkKSA6IFwiICwgeGhyKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UudGFyZ2V0LnN0YXR1cyA9PT0gNDAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQmFkIFJlcXVlc3RcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwieGhyLm9ubG9hZGVuZCAoQmFkIFJlcXVlc3QpIDogXCIgLCB4aHIpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnRhcmdldC5zdGF0dXMgPT09IDQwNCkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEJhZCBSZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInhoci5vbmxvYWRlbmQgKDQwNCBOb3QgRm91bmQpIDogXCIgLCB4aHIpO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS50YXJnZXQuc3RhdHVzID09PSAyMDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdWNjZXNzXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlxcbi0tLS0tIDw8IENPTVAgTE9BRCA+PiAtLS0tLSB4aHIub25sb2FkZW5kIChTdWNjZXNzKSBkdXJhdGlvbiA6IFwiICwgKCgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gbm93X2RhdGUuZ2V0VGltZSgpKS8xMDAwKSArIFwic2VjXFxuXFxuXCIgKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwieGhyLm9ubG9hZGVuZCAoU3VjY2VzcykgcmVzcG9uc2UgOiBcXG5cIiAsIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwieGhyLm9ubG9hZGVuZCAoU3VjY2VzcykgcmVzcG9uc2VUZXh0KEpTT04pIDogXFxuXCIgLCBKU09OLnBhcnNlKHJlc3BvbnNlLnRhcmdldC5yZXNwb25zZVRleHQpKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiXFxuLS0tLS0gPDwgQ09NUCBMT0FEID4+IC0tLS0tXFxuXFxuXCIgKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ4aHIub25sb2FkZW5kIChTdWNjZXNzKSB4aHIgOiBcIiAsIHhocik7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwieGhyLm9ubG9hZGVuZCAoU3VjY2VzcykgcmVzcG9uc2UudGFyZ2V0LnJlc3BvbnNlVGV4dCA6IFwiICwgSlNPTi5wYXJzZShyZXNwb25zZS50YXJnZXQucmVzcG9uc2VUZXh0KSk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBTZW5kIHRoZSBjb2xsZWN0ZWQgZGF0YSBhcyBKU09OXHJcbiAgICAgICAgeGhyLnNlbmQoZGF0YSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBhZGRaZXJvTnVtYmVyKG51bSl7XHJcblxyXG4gICAgICAgIHZhciBzdHJfbnVtID0gXCJcIjtcclxuICAgICAgICBpZiggbnVtIDwgMTAgKSAgc3RyX251bSA9IFwiMFwiICsgbnVtO1xyXG4gICAgICAgIGVsc2UgICAgICAgICAgICBzdHJfbnVtID0gXCJcIiArIG51bTtcclxuICAgICAgICByZXR1cm4gc3RyX251bTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRQYXJhbVVuaXEodXJsKXtcclxuXHJcbiAgICAgICAgaWYodXJsLmluZGV4T2YoJz8nKSA9PSAtMSl7XHJcbiAgICAgICAgICAgIHVybCA9IHVybCArIFwiP3VuaXE9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdXJsID0gdXJsICsgXCImdW5pcT1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbG9hZF9qc29uOiBsb2FkX2pzb24sXHJcbiAgICAgICAgYWRkWmVyb051bWJlcjogYWRkWmVyb051bWJlcixcclxuICAgICAgICBhZGRQYXJhbVVuaXE6IGFkZFBhcmFtVW5pcVxyXG4gICAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCB0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ID09PSBcImZ1bmN0aW9uXCIgKSByZXR1cm4gZmFsc2U7IC8vSWYgbm90IElFXHJcblxyXG4gICAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQgKCBldmVudCwgcGFyYW1zICkge1xyXG4gICAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7IGJ1YmJsZXM6IGZhbHNlLCBjYW5jZWxhYmxlOiBmYWxzZSwgZGV0YWlsOiB1bmRlZmluZWQgfTtcclxuICAgICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoICdDdXN0b21FdmVudCcgKTtcclxuICAgICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KCBldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsICk7XHJcbiAgICAgICAgcmV0dXJuIGV2dDtcclxuICAgIH1cclxuXHJcbiAgICBDdXN0b21FdmVudC5wcm90b3R5cGUgPSB3aW5kb3cuRXZlbnQucHJvdG90eXBlO1xyXG5cclxuICAgIHdpbmRvdy5DdXN0b21FdmVudCA9IEN1c3RvbUV2ZW50O1xyXG59KSgpO1xyXG5cclxud2luZG93LmRmID0gd2luZG93LmRmIHx8IHt9O1xyXG53aW5kb3cuZGYud29ya2dyb3VwID0gd2luZG93LmRmLndvcmtncm91cCB8fCB7fTtcclxud2luZG93LmRmLndvcmtncm91cC5sb2dpbiA9IHdpbmRvdy5kZi53b3JrZ3JvdXAubG9naW4gfHwge307XHJcblxyXG53aW5kb3cuZGYud29ya2dyb3VwLmxvZ2luLkxvYWRJbmZvRGF0YSA9IChmdW5jdGlvbigpe1xyXG5cclxuICAgIHZhciBDTEFTU19OQU1FID0gXCJbIExvYWRJbmZvRGF0YSBdXCI7XHJcbiAgICB2YXIgdXJsX2pzb24gPSBcIlwiO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHZhciBfaXNMb2NhbGhvc3QgPSBmYWxzZTtcclxuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSBcImxvY2FsaG9zdFwiIHx8IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCIxMjcuMC4wLjFcIil7XHJcbiAgICAgICAgICAgIF9pc0xvY2FsaG9zdCA9IHRydWU7XHJcbiAgICAgICAgICAgIHVybF9qc29uID0gd2luZG93LmRmLndvcmtncm91cC5QcmVzZXQuanNvbl91cmwuZGVmYXVsdF9sb2NhbDtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgX2lzTG9jYWxob3N0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHVybF9qc29uID0gd2luZG93LmRmLndvcmtncm91cC5QcmVzZXQuanNvbl91cmwuZGVmYXVsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coQ0xBU1NfTkFNRSArIFwiIF9pc0xvY2FsaG9zdCA6IFwiLCBfaXNMb2NhbGhvc3QgKyBcIiAvIGpzb25fdXJsIDogXCIsIHVybF9qc29uKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhDTEFTU19OQU1FLCBcIiBsb2FkIGRlZmF1bHQganNvbiBkYXRhXCIgKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHdpbmRvdy5kZi53b3JrZ3JvdXAuUHJlc2V0LmV2ZW50VHlwZS5PTl9MT0FEX0pTT04sIG9uTG9hZEpzb24pO1xyXG4gICAgICAgIGxvYWRKU09OKHVybF9qc29uLCBvbkxvYWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWRKU09OKHVybCwgY2FsbGJhY2spIHtcclxuXHJcbiAgICAgICAgdmFyIHBhcmFtcyA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBhY3Rpb246IGRmLndvcmtncm91cC5VdGlsLmFkZFBhcmFtVW5pcSh1cmwpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZGYud29ya2dyb3VwLlV0aWwubG9hZF9qc29uKHBhcmFtcy5hY3Rpb24sIHBhcmFtcy5tZXRob2QsIGNhbGxiYWNrLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbkxvYWQocmVzcG9uc2UpIHtcclxuICAgICAgICB2YXIgYWN0dWFsX0pTT04gPSBKU09OLnBhcnNlKHJlc3BvbnNlLnRhcmdldC5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgIHdpbmRvdy5kZi53b3JrZ3JvdXAuR2xvYmFsVmFycy5pc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgd2luZG93LmRmLndvcmtncm91cC5HbG9iYWxWYXJzLmluZm9EYXRhID0gYWN0dWFsX0pTT047XHJcblxyXG5cclxuICAgICAgICB2YXIgaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBqc29uX2RhdGEgPSB3aW5kb3cuZGYud29ya2dyb3VwLkdsb2JhbFZhcnMuaW5mb0RhdGE7XHJcbiAgICAgICAgaWYoanNvbl9kYXRhLnVzZXIgIT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIGpzb25fZGF0YS51c2VyLmlzTG9nZ2VkSW4gIT0gdW5kZWZpbmVkICl7XHJcblxyXG4gICAgICAgICAgICBpZihqc29uX2RhdGEudXNlci5pc0xvZ2dlZEluIHx8IGpzb25fZGF0YS51c2VyLmlzTG9nZ2VkSW4gPT0gXCJ0cnVlXCIpIHtcclxuICAgICAgICAgICAgICAgIGlzTG9nZ2VkSW4gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZiBpcyBkZXNrdG9wXHJcblxyXG4gICAgICAgIHZhciBlbF9odG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpO1xyXG4gICAgICAgIHZhciBpc0Rlc2t0b3AgPSB3aW5kb3cuZGYubGFiLlV0aWwuaGFzQ2xhc3MoZWxfaHRtbCwgJ2Rlc2t0b3AnKTtcclxuXHJcbiAgICAgICAgaWYoaXNMb2dnZWRJbil7XHJcblxyXG4gICAgICAgICAgICBpZihpc0Rlc2t0b3AgJiYgRGV0ZWN0aXpyLmRldmljZS50eXBlID09IFwiZGVza3RvcFwiKXtcclxuICAgICAgICAgICAgICAgIC8vcmVkaXJlY3RUb01haW4oKTtcclxuICAgICAgICAgICAgICAgIC8vcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgfWVsc2UgaWYoanNvbl9kYXRhLnVzZXIuaXNBZG1pbkFjY291bnQpe1xyXG4gICAgICAgICAgICAgICAgLy9yZWRpcmVjdFRvTWFpbigpO1xyXG4gICAgICAgICAgICAgICAgLy9yZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGVsc2UgLVxyXG5cclxuICAgICAgICBfZGlzcGF0Y2hPbkxvYWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWRpcmVjdFRvTWFpbigpe1xyXG5cclxuICAgICAgICB2YXIgdXJsID0gXCJcIjtcclxuICAgICAgICB2YXIganNvbl9kYXRhID0gd2luZG93LmRmLndvcmtncm91cC5HbG9iYWxWYXJzLmluZm9EYXRhO1xyXG4gICAgICAgIGlmKGpzb25fZGF0YS5wcmVzZXQgIT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIGpzb25fZGF0YS5wcmVzZXQubWFpbl91cmwgIT0gdW5kZWZpbmVkKXtcclxuXHJcbiAgICAgICAgICAgIHVybCA9IGpzb25fZGF0YS5wcmVzZXQubWFpbl91cmw7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coQ0xBU1NfTkFNRSArIFwiIGdvIHRvIG1haW4gdXJsIChnZXQgc2VydmVyKSA6IFwiLCB1cmwpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB1cmwgPSB3aW5kb3cuZGYud29ya2dyb3VwLlByZXNldC5tYWluX3VybDtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhDTEFTU19OQU1FICsgXCIgZ28gdG8gbWFpbiB1cmwgKGdldCBsb2NhbCkgOiBcIiwgdXJsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coQ0xBU1NfTkFNRSArIFwiIGdvIHRvIG1haW4gdXJsIDogXCIsIHVybCk7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9kaXNwYXRjaE9uTG9hZCgpe1xyXG4gICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudCh3aW5kb3cuZGYud29ya2dyb3VwLlByZXNldC5ldmVudFR5cGUuT05fTE9BRF9KU09OKTtcclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbkxvYWRKc29uKCl7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhDTEFTU19OQU1FICsgXCIgb25Mb2FkSnNvbiAtIFwiICwgd2luZG93LmRmLndvcmtncm91cC5HbG9iYWxWYXJzLmluZm9EYXRhKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdy5kZi53b3JrZ3JvdXAuUHJlc2V0LmV2ZW50VHlwZS5PTl9MT0FEX0pTT04sIG9uTG9hZEpzb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5pdDogaW5pdFxyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuXHJcbndpbmRvdy5kZi53b3JrZ3JvdXAubG9naW4uTG9hZEluZm9EYXRhLmluaXQoKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==