<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">

    <title>Background Contents - Weather Video</title>

    <style>

        .video-player .video-wrapper {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            overflow: hidden;
            z-index: -100;

            background-position: center center;
            background-size: cover;
        }
        .video-player .video-wrapper video {
            position: absolute;
            top: 50%;
            left: 50%;
            width: auto;
            height: auto;
            min-width: 100%;
            min-height: 100%;
            -webkit-transform: translate(-50%, -50%);
            -moz-transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
            opacity: 0;
        }

        .video-player .dimmed {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.4);
        }
    </style>
</head>

<body class="video-player">

<div class="container-wrapper">
    <div class="video-wrapper">
        <video autoplay muted loop>
            <source src="" type="video/mp4">
        </video>
        <div class="dimmed"></div>
    </div>
</div>

</body>

<script src="../../common/js/common.js"></script>
<script src="../../common/js/VideoPlayer.js"></script>
<script>

    var data = {
        "video" : {
            "200" :{
                "title":"Thunderstorm",
                "type" :[
                    {
                        "video_url" : "./video/200/200_00.mp4",
                        "image_url" : "./video/200/200_00.jpg",
                        "only_video" : false
                    }
                ]
            },
            "300" :{
                "title":"Drizzle",
                "type" :[
                    {
                        "video_url" : "./video/300/300_00.mp4",
                        "image_url" : "./video/300/300_00.jpg",
                        "only_video" : false
                    },
                    {
                        "video_url" : "./video/300/300_01.mp4",
                        "image_url" : "./video/300/300_00.jpg",
                        "only_video" : false
                    }
                ]
            },
            "500" :{
                "title":"Rain",
                "type" :[
                    {
                        "video_url" : "./video/500/500_00.mp4",
                        "image_url" : "./video/500/500_00.jpg",
                        "only_video" : false
                    },
                    {
                        "video_url" : "./video/500/500_01.mp4",
                        "image_url" : "./video/500/500_00.jpg",
                        "only_video" : false
                    },
                    {
                        "video_url" : "./video/500/500_02.mp4",
                        "image_url" : "./video/500/500_00.jpg",
                        "only_video" : false
                    }
                ]
            },
            "600" :{
                "title":"Snow",
                "type" :[
                    {
                        "video_url" : "./video/600/600_00.mp4",
                        "image_url" : "./video/600/600_00.jpg",
                        "only_video" : false
                    }
                ]
            },
            "700" :{
                "title":"Atmosphere",
                "type" :[
                    {
                        "video_url" : "./video/700/700_00.mp4",
                        "image_url" : "./video/700/700_00.jpg",
                        "only_video" : false
                    }
                ]
            },
            "800" :{
                "title":"Clear",
                "type" :[
                    {
                        "video_url" : "./video/800/800_00.mp4",
                        "image_url" : "./video/800/800_00.jpg",
                        "only_video" : false
                    },
                    {
                        "video_url" : "./video/800/800_01.mp4",
                        "image_url" : "./video/800/800_00.jpg",
                        "only_video" : false
                    }
                ]
            },
            "801" :{
                "title":"Clouds",
                "type" :[
                    {
                        "video_url" : "./video/801/801_00.mp4",
                        "image_url" : "./video/801/801_00.jpg",
                        "only_video" : false
                    }
                ]
            }

        }

    };


    var params = Util.getParams();
    var weathercode = params.weathercode || "800";
    var dataVideo = data.video[weathercode] || data.video["800"];
    var videoindex = params.videoindex || parseInt(Math.random() * dataVideo.type.length);





    /* video_url : video url
    image_url : video 재생 불가 할시 나오는 이미지
    only_video : 강제 비디오 재생 */

    var dataOjb = {
        "video_url" : dataVideo.type[videoindex].video_url,
        "image_url" : dataVideo.type[videoindex].image_url,
        "only_video" : dataVideo.type[videoindex].only_video
    };

    var videoPlayer = new VideoPlayer(dataOjb);
    videoPlayer.setting();





</script>

</html>