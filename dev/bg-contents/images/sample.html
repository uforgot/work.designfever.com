<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <!--<link rel="manifest" href="">-->
    <link rel="stylesheet" type="text/css" href="../common/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="../common/css/base.css" />

    <title>Background Contents - Image Type</title>
</head>

<style>

    .img-wrapper {
        position: absolute;
        width: 100%;
        height: 100%;
        background-color: #000000;
    }
    .img-wrapper .img-content {
        position: absolute;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center center;
        opacity: 0;
        transition: all 1s;
    }

    .img-wrapper .img-content.show {
        opacity: 1;
    }
</style>

<body>

<div class="container-wrapper">
    <div class="img-wrapper">
        <div class="img-content show" style='background-image: url("../common/img/wp_1.jpg")'></div>
        <div class="img-content" style='background-image: url("../common/img/wp_2.jpg")'></div>
        <div class="img-content" style='background-image: url("../common/img/wp_3.jpg")'></div>
        <div class="img-content" style='background-image: url("../common/img/wp_4.jpeg")'></div>
    </div>
</div>

</body>

<script>



    var ImageGallery = function(args){

        var _index = 0,
            _prevIndex = -1,
            _imgArr = [],
            _timer;

        var _setting = function(){
            console.log("setting")

            _imgArr = document.querySelectorAll(".img-content");
            if(_imgArr.length != 0) _start();
        };

        var _init = function(){

        };

        var _start = function(){
            startTimer();
        };

        var startTimer = function(){
            _timer = setInterval(_nextImage, 2000)
        };

        var _nextImage = function(){
            _prevIndex = _index;
            _index = (_index + 1) % _imgArr.length;
            _controlImages(_index);
            console.log(_index)
        };


        var _controlImages = function(index){
            _imgArr[index].classList.add("show");
            if(_imgArr[_prevIndex]) _imgArr[_prevIndex].classList.remove("show");

        };


        return {
            setting : _setting
        }


    };


    var gallery = new ImageGallery({});
    gallery.setting();


</script>

</html>